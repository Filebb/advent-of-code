---
title: "Day 5: Doesn't He Have Intern-Elves For This?"
---

[Reference](https://adventofcode.com/2015/day/5)

```{r}
#| label: 2015 - day 5 - load data

library(tidyverse)

input <- read_csv(file = "inputs/2015/05.txt", col_names = "original")
```

## Part One

::: {.panel-tabset}

## Solution

```{r}
#| label: 2015 - day 5 - part 1

nice <- input |> 
    mutate(
        three_more_vowels = str_count(original, "[aeiou]") >= 3,
        one_more_double = str_detect(original, "([a-z])\\1"),
        not_ab_cd_pq_xy = !str_detect(original, "ab|cd|pq|xy"),
        nice = three_more_vowels & one_more_double & not_ab_cd_pq_xy
    )

total_nice_strings <- sum(nice$nice)
cat("Total nice strings (old rules):", total_nice_strings, "\n")
```

## Full Table

```{r}
#| label: 2015 - day 5 - part 1 full table
#| echo: false

rmarkdown::paged_table(nice)
```

:::

## Part Two

::: {.panel-tabset}

## Solution

```{r}
#| label: 2015 - day 5 - part 2

nice_new <- input |> 
    mutate(
        couple_twice = str_detect(original, "([a-z]{2}).*\\1"),
        az_any_az = str_detect(original, "([a-z])[a-z]\\1"),
        nice_new = couple_twice & az_any_az
    )

total_nice_strings_new <- sum(nice_new$nice_new)
cat("Total nice strings (new rules):", total_nice_strings_new, "\n")
```

## Full Table

```{r}
#| label: 2015 - day 5 - part 2 full table
#| echo: false

rmarkdown::paged_table(nice_new)
```

:::
